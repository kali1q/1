<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>刷题</title>
<style>
body {
  font-family: -apple-system, BlinkMacSystemFont;
  padding: 20px;
  background: #f7f7f7;
}
.card {
  background: #fff;
  padding: 20px;
  border-radius: 10px;
}
.option {
  padding: 12px;
  margin: 10px 0;
  background: #eee;
  border-radius: 8px;
}
.option.correct { background: #c8f7c5; }
.option.wrong { background: #f7c5c5; }
button {
  margin-top: 15px;
  padding: 10px 15px;
}
</style>
</head>
<body>

<div class="card">
  <h3 id="question"></h3>
  <div id="options"></div>
  <p id="analysis" style="display:none;"></p>
  <button onclick="next()">下一题</button>
</div>

<script>
const questions = [
  {
    q: "间隔增长率公式是？",
    options: ["r1+r2", "r1×r2", "r1+r2+r1×r2", "r1−r2"],
    answer: 2,
    analysis: "隔年增长率 = r1 + r2 + r1×r2"
  },
  {
    q: "HTTP 100-Continue 的作用是？",
    options: ["状态码错误", "请求预处理", "先确认再传实体", "重定向"],
    answer: 2,
    analysis: "用于客户端确认服务端是否接收请求体"
  }
];

let index = 0;

function render() {
  const q = questions[index];
  document.getElementById("question").innerText = q.q;
  const box = document.getElementById("options");
  box.innerHTML = "";
  document.getElementById("analysis").style.display = "none";

  q.options.forEach((opt, i) => {
    const div = document.createElement("div");
    div.className = "option";
    div.innerText = opt;
    div.onclick = () => check(div, i);
    box.appendChild(div);
  });
}

function check(div, i) {
  const q = questions[index];
  const options = document.querySelectorAll(".option");
  options.forEach(o => o.onclick = null);

  if (i === q.answer) {
    div.classList.add("correct");
  } else {
    div.classList.add("wrong");
    options[q.answer].classList.add("correct");
  }

  const a = document.getElementById("analysis");
  a.innerText = "解析：" + q.analysis;
  a.style.display = "block";
}

function next() {
  index = (index + 1) % questions.length;
  render();
}

render();
</script>
</body>
</html>
